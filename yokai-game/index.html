<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš”ê´´ì˜ ì„± íƒˆì¶œ</title>
    <link rel="stylesheet" href="src/styles/game.css">
</head>
<body>
    <div id="game-container">
        <div id="game-board" class="game-board">
            <!-- ê²Œì„ ë³´ë“œëŠ” BoardSystemì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
        
        <div class="game-sidebar">
            <!-- ê²Œì„ ìƒíƒœ ì„¹ì…˜ -->
            <div class="ui-section">
                <div class="ui-section-title">ê²Œì„ ìƒíƒœ</div>
                <div class="game-status">
                    <div class="turn-info">
                        <div id="current-player" class="current-player">í”Œë ˆì´ì–´ 1 í„´</div>
                        <div id="phase-indicator" class="phase-indicator">ì´ë™ ë‹¨ê³„</div>
                    </div>
                    <div class="dice-area">
                        <div class="dice-display">
                            <div id="dice-result" class="dice-result">ğŸ² ?</div>
                        </div>
                        <button class="action-button" id="roll-dice">ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°</button>
                    </div>
                </div>
            </div>
            
            <!-- í”Œë ˆì´ì–´ ì •ë³´ ì„¹ì…˜ -->
            <div class="ui-section">
                <div class="ui-section-title">í”Œë ˆì´ì–´ ì •ë³´</div>
                <div class="player-info">
                    <div class="player-stats">
                        <div class="stat-item">
                            <span class="stat-label">ìœ„ì¹˜</span>
                            <span class="stat-value" id="player-position">ì‹œì‘ì </span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ì¹´ë“œ</span>
                            <span class="stat-value" id="player-cards">0ì¥</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ìŠ¹ë¦¬ ì¡°ê±´</span>
                            <span class="stat-value" id="victory-condition">íƒˆì¶œ</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ì ìˆ˜</span>
                            <span class="stat-value" id="player-score">0</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ì•¡ì…˜ ë²„íŠ¼ ì„¹ì…˜ -->
            <div class="ui-section">
                <div class="ui-section-title">ê²Œì„ ì•¡ì…˜</div>
                <div class="action-buttons">
                    <button class="action-button" id="move-player">ì´ë™í•˜ê¸°</button>
                    <button class="action-button" id="use-card">ì¹´ë“œ ì‚¬ìš©</button>
                    <button class="action-button" id="end-turn">í„´ ì¢…ë£Œ</button>
                    <button class="action-button" id="pause-game">ê²Œì„ ì¼ì‹œì •ì§€</button>
                </div>
            </div>
            
            <!-- ì†íŒ¨ ì¹´ë“œ ì„¹ì…˜ -->
            <div class="ui-section">
                <div class="ui-section-title">ì†íŒ¨ ì¹´ë“œ</div>
                <div class="hand-cards" id="hand-cards">
                    <!-- ì¹´ë“œë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ê²Œì„ ë¡œê·¸ ì„¹ì…˜ -->
            <div class="ui-section">
                <div class="ui-section-title">ê²Œì„ ë¡œê·¸</div>
                <div class="game-log" id="game-log">
                    <div class="log-entry info">ê²Œì„ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module">
        // CLAUDE.md ê·œì¹™ì— ë”°ë¥¸ í´ë¦° ES6 ëª¨ë“ˆ ì‹œìŠ¤í…œ
        import { GameController } from './src/js/GameController.js';
        import { BoardSystem } from './src/js/BoardSystem.js';
        import { CardSystem } from './src/js/CardSystem.js';
        import { BoardData } from './src/js/BoardData.js';
        
        console.log('ìš”ê´´ì˜ ì„± íƒˆì¶œ - í†µí•© ì‹œìŠ¤í…œ ì‹œì‘');
        
        try {
            // í†µí•© ê²Œì„ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„± ë° ì´ˆê¸°í™”
            console.log('ğŸ® GameController ìƒì„± ì¤‘...');
            window.gameController = new GameController();
            
            console.log('ğŸ® GameController ì´ˆê¸°í™” ì¤‘...');
            window.gameController.init();
            
            console.log('âœ… ê²Œì„ ì‹œìŠ¤í…œì´ ì„±ê³µì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
            
            // ë””ë²„ê¹…ì„ ìœ„í•œ ì „ì—­ ì ‘ê·¼
            window.boardSystem = window.gameController.boardSystem;
            window.cardSystem = window.gameController.cardSystem;
            
            // ê²Œì„ ìƒíƒœ í‘œì‹œ
            console.log('ğŸ¯ ê²Œì„ ìƒíƒœ:', window.gameController.gameState);
            console.log('ğŸ® ê²Œì„ ëª¨ë“œ:', window.gameController.gameMode);
            
        } catch (error) {
            console.error('âŒ ê²Œì„ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
            console.error('âŒ ì˜¤ë¥˜ ìƒì„¸:', error.stack);
            
            // ì‚¬ìš©ìì—ê²Œ ì˜¤ë¥˜ ì•Œë¦¼
            document.body.innerHTML = `
                <div style="
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: #2a1f3a;
                    color: #e0e0e0;
                    padding: 2rem;
                    border: 2px solid #8a2be2;
                    border-radius: 15px;
                    text-align: center;
                    font-family: 'Noto Sans KR', sans-serif;
                    box-shadow: 0 0 30px rgba(138, 43, 226, 0.6);
                ">
                    <h2>ê²Œì„ ë¡œë”© ì‹¤íŒ¨</h2>
                    <p>ê²Œì„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
                    <p>ë¸Œë¼ìš°ì € ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
                    <button onclick="location.reload()" style="
                        background: #4a1f5f;
                        color: #e0e0e0;
                        border: 2px solid #6a2f8f;
                        padding: 10px 20px;
                        border-radius: 5px;
                        cursor: pointer;
                        margin-top: 1rem;
                    ">ìƒˆë¡œê³ ì¹¨</button>
                </div>
            `;
        }
    </script>
</body>
</html>